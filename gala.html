<!DOCTYPE html>
<html lang="es" class="h-full w-full bg-[#050505]">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GALA EN DIRECTO | VIAJE DE S3X0 AWARDS</title>
    
    <link rel="icon" type="image/png" href="fotos/logo.png" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;900&family=Playfair+Display:ital,wght@0,400;700;900;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: { gold: { DEFAULT: '#d4af37', light: '#fedc56', dark: '#aa771c' } },
            fontFamily: { sans: ['Montserrat', 'sans-serif'], display: ['Playfair Display', 'serif'] },
            animation: {
                'shake-hard': 'shake-hard 0.5s cubic-bezier(.36,.07,.19,.97) both infinite',
                'float': 'float 6s ease-in-out infinite',
                'pulse-glow': 'pulseGlow 2s infinite',
                'zoom-in': 'zoomIn 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards'
            },
            keyframes: {
                'shake-hard': {
                    '0%, 100%': { transform: 'translate3d(0, 0, 0) rotate(0deg)' },
                    '10%, 30%, 50%, 70%, 90%': { transform: 'translate3d(-2px, 2px, 0) rotate(-1deg)' },
                    '20%, 40%, 60%, 80%': { transform: 'translate3d(2px, -2px, 0) rotate(1deg)' }
                },
                float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-15px)' } },
                pulseGlow: { '0%, 100%': { boxShadow: '0 0 20px rgba(212, 175, 55, 0.2)' }, '50%': { boxShadow: '0 0 50px rgba(212, 175, 55, 0.6)' } },
                zoomIn: { '0%': { transform: 'scale(0.8)', opacity: '0' }, '100%': { transform: 'scale(1)', opacity: '1' } }
            }
          }
        }
      }
    </script>

    <style>
        body { cursor: none; overflow-x: hidden; } 
        
        /* CURSOR */
        #custom-cursor {
            position: fixed; top: 0; left: 0; width: 20px; height: 20px;
            border: 2px solid #d4af37; background-color: rgba(0,0,0,0.1); 
            border-radius: 50%; pointer-events: none; z-index: 9999;
            transform: translate(-50%, -50%); transition: transform 0.15s ease-out;
            box-shadow: 0 0 10px #d4af37;
        }
        #cursor-dot {
            position: fixed; top: 0; left: 0; width: 6px; height: 6px;
            background-color: #fedc56; border-radius: 50%; pointer-events: none; z-index: 10000;
            transform: translate(-50%, -50%);
        }

        /* TRANSICIONES DE PANTALLA */
        .screen-section {
            position: fixed; inset: 0; width: 100%; height: 100%;
            transition: opacity 0.6s ease, transform 0.6s ease, visibility 0.6s;
            opacity: 0; pointer-events: none; z-index: 0; visibility: hidden;
            background: #050505;
        }
        .screen-section.active { opacity: 1; pointer-events: auto; z-index: 10; transform: scale(1); visibility: visible; }
        .screen-section.hidden-left { opacity: 0; transform: translateX(-100px) scale(0.95); }

        /* TARJETA 3D (SISTEMA DE GIRO) */
        .perspective-container { perspective: 2000px; }
        .card-flip { 
            position: relative; width: 100%; height: 100%; 
            transition: transform 0.8s cubic-bezier(0.7, -0.4, 0.4, 1.4); 
            transform-style: preserve-3d; 
        }
        .card-flip.flipped { transform: rotateY(180deg); }
        .front, .back { 
            position: absolute; inset: 0; 
            -webkit-backface-visibility: hidden; backface-visibility: hidden; 
            border-radius: 20px; overflow: hidden;
        }

        /* DISEÑO DE LA "PLACA" (FRENTE) */
        .front {
            background: linear-gradient(145deg, #111, #000);
            border: 1px solid rgba(212,175,55,0.3);
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
        }
        .luxury-pattern {
            background-image: radial-gradient(circle at center, #d4af37 1px, transparent 1px);
            background-size: 30px 30px; opacity: 0.1;
        }

        /* DISEÑO DEL GANADOR (DORSO) */
        .back { 
            transform: rotateY(180deg); background: #000; 
            border: 2px solid #d4af37;
            box-shadow: 0 0 100px rgba(212,175,55,0.2);
        }
        
        .winner-text {
            background: linear-gradient(to bottom, #fff 20%, #d4af37 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(212,175,55,0.5));
        }
    </style>
</head>
<body class="text-white h-screen w-screen flex flex-col font-sans overflow-hidden">

    <div id="custom-cursor"></div><div id="cursor-dot"></div>
    <audio id="audio-drumroll" src="redoble.mp3" preload="auto"></audio>
    
    <canvas id="constellation-bg" class="fixed inset-0 pointer-events-none z-0"></canvas>
    <div class="fixed inset-0 z-0 bg-gradient-to-t from-black via-transparent to-black opacity-90 pointer-events-none"></div>

    <section id="screen-intro" class="screen-section active flex flex-col items-center justify-center">
        <div class="relative z-10 text-center animate-zoom-in">
            <img src="fotos/logo.png" class="w-40 h-40 md:w-56 md:h-56 object-contain mx-auto mb-8 drop-shadow-[0_0_50px_rgba(212,175,55,0.4)] animate-float">
            <h2 class="text-gold tracking-[0.6em] text-sm md:text-xl font-bold mb-2 uppercase">Gala Oficial</h2>
            <h1 class="text-5xl md:text-8xl font-display font-black text-white uppercase tracking-tighter leading-none mb-12">
                VIAJE DE S3X0<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-[#fedc56] to-[#aa771c]">AWARDS 2025</span>
            </h1>
            <button onclick="goToScreen('screen-candidates')" class="group relative px-12 py-5 bg-black border border-gold/40 hover:border-gold text-gold font-bold uppercase tracking-[0.2em] rounded-sm transition-all hover:shadow-[0_0_30px_rgba(212,175,55,0.3)]">
                <span class="relative z-10 flex items-center gap-3">Entrar <i data-lucide="chevron-right"></i></span>
                <div class="absolute inset-0 bg-gold/10 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"></div>
            </button>
        </div>
    </section>

    <section id="screen-candidates" class="screen-section flex flex-col items-center justify-center p-8">
        <div class="absolute top-8 left-8 flex items-center gap-4 z-20 opacity-50">
            <img src="fotos/logo.png" class="w-8 h-8 opacity-80"> <span class="text-[10px] uppercase tracking-widest text-white/50">Candidatos</span>
        </div>
        <button onclick="goToScreen('screen-intro')" class="absolute top-8 right-8 z-30 opacity-40 hover:opacity-100 transition-opacity"><i data-lucide="x" class="w-8 h-8 text-white"></i></button>

        <div class="w-full max-w-7xl flex flex-col md:flex-row items-center gap-12 relative z-10 h-[80vh]">
            <div class="w-full md:w-1/2 h-full relative rounded-xl overflow-hidden border border-white/10 shadow-2xl group">
                <img id="cand-img" src="" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 transform group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"></div>
                <div class="absolute bottom-8 left-8 md:hidden"><h2 id="cand-name-mobile" class="text-4xl font-display font-black uppercase"></h2></div>
            </div>
            <div class="w-full md:w-1/2 flex flex-col justify-center text-left relative z-10 pl-4 md:pl-0">
                <h2 id="cand-name" class="hidden md:block text-7xl lg:text-9xl font-display font-black text-white uppercase leading-none tracking-tighter mb-6 opacity-90"></h2>
                <div class="border-l-4 border-gold pl-6 mb-10"><p id="cand-desc" class="text-neutral-300 text-xl font-light italic leading-relaxed"></p></div>
                <div class="grid grid-cols-2 gap-x-8 gap-y-6 mb-12">
                    <div><p class="text-gold/60 text-[10px] uppercase tracking-widest mb-2">Nivel de Alcoholismo</p><div class="w-full h-1 bg-white/10"><div id="bar-1" class="h-full bg-gold transition-all duration-1000 w-0"></div></div></div>
                    <div><p class="text-gold/60 text-[10px] uppercase tracking-widest mb-2">Liadas / Noche</p><div class="w-full h-1 bg-white/10"><div id="bar-2" class="h-full bg-gold transition-all duration-1000 w-0"></div></div></div>
                    <div><p class="text-gold/60 text-[10px] uppercase tracking-widest mb-2">Aguante</p><div class="w-full h-1 bg-white/10"><div id="bar-3" class="h-full bg-gold transition-all duration-1000 w-0"></div></div></div>
                    <div><p class="text-gold/60 text-[10px] uppercase tracking-widest mb-2">Carisma</p><div class="w-full h-1 bg-white/10"><div id="bar-4" class="h-full bg-gold transition-all duration-1000 w-0"></div></div></div>
                </div>
                <div class="flex items-center gap-6">
                    <button onclick="prevCandidate()" class="p-3 rounded-full border border-neutral-800 hover:border-white text-neutral-500 hover:text-white transition-all"><i data-lucide="arrow-left"></i></button>
                    <span id="cand-counter" class="text-gold font-mono text-lg"></span>
                    <button onclick="nextCandidate()" class="p-3 rounded-full border border-neutral-800 hover:border-white text-neutral-500 hover:text-white transition-all"><i data-lucide="arrow-right"></i></button>
                    <div class="flex-1"></div>
                    <button onclick="goToScreen('screen-awards')" class="bg-white text-black px-8 py-3 font-bold uppercase tracking-widest hover:bg-gold transition-colors flex items-center gap-2">Premios <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                </div>
            </div>
        </div>
    </section>

    <section id="screen-awards" class="screen-section flex flex-col relative">
        <div class="absolute top-0 left-0 w-full p-8 flex justify-between items-start z-50">
            <div class="flex flex-col">
                <span class="text-gold/60 text-[10px] uppercase tracking-[0.4em] mb-1">Categoría Actual</span>
                <span id="counter" class="text-white/40 font-mono text-xs">1 / 15</span>
            </div>
            <button onclick="goToScreen('screen-candidates')" class="opacity-50 hover:opacity-100 transition-opacity text-xs uppercase tracking-widest flex items-center gap-2">Volver <i data-lucide="corner-up-left" class="w-4 h-4"></i></button>
        </div>

        <div class="flex-1 flex flex-col items-center justify-center relative z-10 px-4">
            
            <div class="mb-10 text-center max-w-5xl mt-12">
                <h2 id="cat-title" class="text-3xl md:text-5xl lg:text-6xl font-display font-black uppercase text-transparent bg-clip-text bg-gradient-to-b from-white to-neutral-400 drop-shadow-2xl transition-all duration-500">
                    </h2>
            </div>

            <div class="perspective-container w-full max-w-[500px] md:max-w-[800px] aspect-[4/5] md:aspect-[16/9] relative mb-12">
                <div id="main-card" class="card-flip cursor-pointer group" onclick="revealWinner()">
                    
                    <div id="card-front" class="front flex flex-col items-center justify-center animate-pulse-glow">
                        <div class="absolute inset-0 luxury-pattern"></div>
                        <div class="relative z-10 border-2 border-gold/50 rounded-full p-6 bg-black/50 backdrop-blur-sm mb-6 group-hover:scale-110 transition-transform duration-500">
                            <i data-lucide="lock" class="w-12 h-12 text-gold"></i>
                        </div>
                        <p class="text-gold font-display text-2xl uppercase tracking-[0.3em]">Confidencial</p>
                        <p class="text-neutral-600 text-[10px] uppercase tracking-[0.3em] mt-2 group-hover:text-white transition-colors">Click para revelar</p>
                    </div>

                    <div class="back flex flex-col">
                        <div class="relative flex-1 bg-neutral-900 overflow-hidden group-hover:scale-[1.02] transition-transform duration-[10s]">
                            <img id="win-img" src="" class="absolute inset-0 w-full h-full object-cover hidden">
                            <video id="win-vid" src="" class="absolute inset-0 w-full h-full object-cover hidden" loop muted playsinline></video>
                            <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"></div>
                        </div>
                        <div class="relative h-[30%] bg-black border-t border-gold/30 flex flex-col items-center justify-center p-4 z-20">
                            <span class="text-gold text-[10px] uppercase tracking-[0.4em] mb-2 font-bold">The Winner Is</span>
                            <h3 id="win-name" class="text-4xl md:text-6xl font-display font-black uppercase winner-text leading-none text-center">
                                </h3>
                        </div>
                    </div>

                </div>
            </div>

        </div>

        <div class="absolute bottom-8 right-8 z-50 flex gap-4">
            <button onclick="changeCat(-1)" class="w-12 h-12 rounded-full border border-white/10 hover:bg-white/10 flex items-center justify-center text-white transition-all"><i data-lucide="arrow-left"></i></button>
            <button id="btn-next" onclick="changeCat(1)" class="opacity-0 pointer-events-none translate-y-4 transition-all duration-500 bg-gold text-black px-6 py-3 rounded-full font-bold uppercase text-xs tracking-widest flex items-center gap-2 hover:bg-white hover:scale-105">
                Siguiente <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </button>
        </div>
    </section>

    <script>
        lucide.createIcons();

        // 1. DATOS DE GANADORES (Rellena esto manualmente)
        // ---------------------------------------------------------
        // TIPOS: 'img' (foto) o 'video' (vídeo .mp4)
        // MEDIA: ruta del archivo dentro de la carpeta fotos/ o multimedia/
        
        const winnersData = [
            { cat: "Más tocapelotas del grupo",           name: "PABLO GARCÍA",      type: "img",   media: "fotos/pablog.jpg" },
            { cat: "Persona más graciosa del grupo",      name: "JOSÉ LUIS",         type: "img",   media: "fotos/joseluis.jpg" },
            { cat: "Frase mítica del año",                name: "CARLOS",            type: "img",   media: "fotos/carlos.jpg" }, // OJO: Pon una foto con la frase si quieres
            { cat: "Premio al más desaparecido",          name: "CARLOS",            type: "img",   media: "fotos/carlos.jpg" },
            { cat: "Premio al que más come",              name: "PABLO DOLZ",        type: "img",   media: "fotos/pablod.jpg" },
            { cat: "Fantasmada del año",                  name: "NICOLÁS",           type: "img",   media: "fotos/nicolas.jpg" },
            { cat: "Pareja del año",                      name: "NICO Y ADRIANA",    type: "img",   media: "fotos/nicolas.jpg" }, // Pon una foto de los dos juntos
            { cat: "Mejor culo del grupo",                name: "PABLO GARCÍA",      type: "img",   media: "fotos/pablog.jpg" },
            { cat: "Plot twist del año",                  name: "ADRIANA",           type: "img",   media: "fotos/adriana.jpg" },
            { cat: "Mejor foto del año",                  name: "FOTO GANADORA",     type: "img",   media: "fotos/foto_ganadora.jpg" }, // Sube esta foto a la carpeta
            { cat: "Premio al más cagón",                 name: "NICOLÁS",           type: "img",   media: "fotos/nicolas.jpg" },
            { cat: "Premio al que más bebe",              name: "LUCÍA",             type: "img",   media: "fotos/lucia.jpg" },
            { cat: "Jaimitada del año",                   name: "MOMENTO JAIMITADA", type: "video", media: "fotos/video_ganador.mp4" }, // Si es video, cambia type a 'video'
            { cat: "Mejor vídeo del año",                 name: "VIDEO CAÍDA",       type: "video", media: "fotos/video_ganador.mp4" },
            { cat: "Mejor evento del año",                name: "ASTURIAS 2025",     type: "img",   media: "fotos/grupo.jpg" }
        ];
        // ---------------------------------------------------------

        // 2. LÓGICA DE NAVEGACIÓN
        function goToScreen(id) {
            document.querySelectorAll('.screen-section').forEach(el => {
                el.classList.remove('active');
                if(el.id !== id) el.classList.add('hidden-left');
            });
            const target = document.getElementById(id);
            target.classList.remove('hidden-left');
            setTimeout(() => target.classList.add('active'), 50);
        }

        // 3. CANDIDATOS (Esto sigue igual que en la web principal para rellenar)
        const candidates = [
            { name: "Carlos", desc: "El fenómeno de Albacete. Experto en desapariciones tácticas.", photo: "fotos/carlos.jpg", stats: [60, 30, 60, 70] },
            { name: "Adriana", desc: "Reina de la física. Siempre llega tarde, pero llega.", photo: "fotos/adriana.jpg", stats: [90, 30, 50, 60] },
            { name: "Nicolás", desc: "Organizador del caos. Usa IA hasta para respirar.", photo: "fotos/nicolas.jpg", stats: [69, 69, 69, 69] },
            { name: "José Luis", desc: "Filósofo de barra. Cuidado si le das dos cervezas.", photo: "fotos/joseluis.jpg", stats: [67, 67, 67, 67] },
            { name: "Lucía", desc: "Cierra bares y discusiones. No conoce el miedo.", photo: "fotos/lucia.jpg", stats: [60, 50, 40, 60] },
            { name: "Pablo Dolz", desc: "Máquina de factos. Cenicienta a las 00:00.", photo: "fotos/pablod.jpg", stats: [50, 60, 40, 50] },
            { name: "Pablo García", desc: "Risa sísmica. Se le oye antes de que llegue.", photo: "fotos/pablog.jpg", stats: [70, 60, 50, 80] }
        ];

        let candIdx = 0;
        function updateCand() {
            const c = candidates[candIdx];
            document.getElementById('cand-img').src = c.photo;
            document.getElementById('cand-name').innerText = c.name;
            document.getElementById('cand-name-mobile').innerText = c.name;
            document.getElementById('cand-desc').innerText = `"${c.desc}"`;
            document.getElementById('cand-counter').innerText = `${candIdx+1} / ${candidates.length}`;
            setTimeout(() => {
                document.getElementById('bar-1').style.width = c.stats[0] + '%';
                document.getElementById('bar-2').style.width = c.stats[1] + '%';
                document.getElementById('bar-3').style.width = c.stats[2] + '%';
                document.getElementById('bar-4').style.width = c.stats[3] + '%';
            }, 100);
        }
        function nextCandidate() { candIdx = (candIdx + 1) % candidates.length; updateCand(); }
        function prevCandidate() { candIdx = (candIdx - 1 + candidates.length) % candidates.length; updateCand(); }
        updateCand();

        // 4. LÓGICA DE PREMIOS (HARDCODED)
        let currentCatIdx = 0;
        let isRevealed = false;

        const ui = {
            title: document.getElementById('cat-title'),
            counter: document.getElementById('counter'),
            card: document.getElementById('main-card'),
            front: document.getElementById('card-front'),
            winName: document.getElementById('win-name'),
            winImg: document.getElementById('win-img'),
            winVid: document.getElementById('win-vid'),
            btnNext: document.getElementById('btn-next'),
            audio: document.getElementById('audio-drumroll')
        };

        function updateAwardUI() {
            isRevealed = false;
            ui.card.classList.remove('flipped');
            ui.front.classList.remove('animate-shake-hard');
            ui.btnNext.classList.remove('opacity-100', 'pointer-events-auto', 'translate-y-0');
            ui.btnNext.classList.add('opacity-0', 'pointer-events-none', 'translate-y-4');
            ui.winVid.pause(); ui.audio.pause(); ui.audio.currentTime = 0;

            const data = winnersData[currentCatIdx];
            ui.title.innerText = data.cat;
            ui.counter.innerText = `${currentCatIdx + 1} / ${winnersData.length}`;
            ui.winName.innerText = data.name;

            if(data.type === 'video') {
                ui.winImg.classList.add('hidden');
                ui.winVid.classList.remove('hidden');
                ui.winVid.src = data.media;
            } else {
                ui.winVid.classList.add('hidden');
                ui.winImg.classList.remove('hidden');
                ui.winImg.src = data.media;
            }
        }

        function revealWinner() {
            if(isRevealed) return;
            // 1. Audio y Temblor
            ui.audio.volume = 1.0;
            ui.audio.play().catch(e => console.log("Click para audio"));
            ui.front.classList.add('animate-shake-hard');

            // 2. Esperar 3.5 segundos (drop del redoble)
            setTimeout(() => {
                ui.front.classList.remove('animate-shake-hard');
                ui.audio.pause();
                ui.card.classList.add('flipped');
                
                if(!ui.winVid.classList.contains('hidden')) ui.winVid.play();
                
                confetti({ particleCount: 150, spread: 100, origin: { y: 0.6 }, colors: ['#d4af37', '#fff'] });
                isRevealed = true;
                
                setTimeout(() => {
                    ui.btnNext.classList.remove('opacity-0', 'pointer-events-none', 'translate-y-4');
                    ui.btnNext.classList.add('opacity-100', 'pointer-events-auto', 'translate-y-0');
                }, 1000);
            }, 3500); 
        }

        function changeCat(dir) {
            const next = currentCatIdx + dir;
            if(next >= 0 && next < winnersData.length) {
                ui.title.classList.add('opacity-0', 'translate-y-[-20px]');
                setTimeout(() => {
                    currentCatIdx = next;
                    updateAwardUI();
                    ui.title.classList.remove('opacity-0', 'translate-y-[-20px]');
                }, 400);
            }
        }
        
        // Iniciar
        updateAwardUI();

        // Cursor
        const cursor = document.getElementById('custom-cursor');
        const dot = document.getElementById('cursor-dot');
        document.addEventListener('mousemove', e => {
            dot.style.left = e.clientX+'px'; dot.style.top = e.clientY+'px';
            setTimeout(() => { cursor.style.left = e.clientX+'px'; cursor.style.top = e.clientY+'px'; }, 40);
        });
    </script>
</body>
</html>